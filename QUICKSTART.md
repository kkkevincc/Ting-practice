# 快速开始指南

## 前置要求

1. Node.js (版本 18 或更高)
2. npm 或 yarn
3. SiliconFlow API Key (可选，未配置时使用模拟数据)

## 安装步骤

### 1. 安装所有依赖

```bash
npm run install:all
```

### 2. 配置环境变量

```bash
cd backend
cp env.example .env
```

然后编辑 `.env` 文件，填入配置信息：

```
SILICONFLOW_API_KEY=your_siliconflow_api_key_here
JWT_SECRET=your-secret-key-change-in-production
PORT=3001
```

**说明**：
- `SILICONFLOW_API_KEY`：可选配置，未配置时自动使用模拟数据
- `JWT_SECRET`：用户认证密钥，生产环境务必更改
- `PORT`：后端服务器端口，默认3001

### 3. 启动项目

```bash
# 在项目根目录运行
npm run dev
```

这将同时启动：
- 后端API服务器：http://localhost:3001
- 前端开发服务器：http://localhost:3000

**端口说明**：
- 前端通过Vite代理自动转发 `/api` 和 `/audio` 请求到后端
- 无需手动配置CORS或API地址

## 使用说明

1. 打开浏览器访问 http://localhost:3000
2. （可选）注册账号或直接以匿名用户使用
3. 准备文件：
   - **音频文件**（必需）：支持 MP3、WAV、M4A 等常见格式，最大100MB
   - **题目文件**（可选）：.txt 或 .md 格式的文本文件，包含听力题目内容
4. 上传文件后，系统会自动：
   - 使用 SiliconFlow AI 识别音频内容（或使用模拟数据）
   - 使用本地算法提取关键词（基于词频分析）
5. 处理完成后，你可以：
   - 播放音频
   - 查看完整转录文本
   - 在练习区选择你听到的关键词
   - 提交答案查看结果统计

## 功能特点

- ✨ 现代化的苹果风格 UI 设计，支持深色/浅色主题
- 🎯 智能关键词提取（基于词频和长度的本地算法）
- 🖱️ 交互式单词选择练习
- 📊 实时显示练习进度和统计
- 🔄 自动后台处理音频
- 👤 用户系统（支持注册登录和匿名使用）
- 💾 本地数据持久化存储

## 注意事项

- 音频文件大小限制：100MB
- 处理时间取决于音频长度（通常 1 分钟音频需要 10-30 秒处理）
- 如已配置 SiliconFlow API Key，需要稳定的网络连接
- 未配置API Key时，系统使用预设的模拟音频转写数据
- 前端端口：3000，后端端口：3001
- 数据存储在 `backend/data/` 目录的JSON文件中

## 故障排查

**问题：上传失败或无法连接到服务器**
- 确认后端服务器已在端口3001启动
- 检查浏览器控制台是否有错误信息
- 确认防火墙未阻止3000和3001端口

**问题：音频转写显示模拟数据**
- 这是正常现象（未配置API Key时的默认行为）
- 如需真实转写，请配置 `SILICONFLOW_API_KEY`

**问题：无法播放音频**
- 确认音频文件格式正确
- 检查浏览器是否支持该音频格式
- 查看浏览器控制台的错误信息
